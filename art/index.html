<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Art Geometric</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5js/1.11.3/p5.js"></script>
        <script src=""></script>
        <style>
            body {
                margin: 0;
                padding: 0;
                background-color: #f4f4f4;
                display: flex;
                flex-direction: column;
                align-items:center;
            }
            #loading-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(255,255,255,0.9);
                display: flex;
                flex-direction: column;
                justify-content: center;
                font-family: Arial, sans-serif;
                font-size: 18px;
                color: #333;
                z-index: 10;
            }
            .loader {
                width: 50px;
                height: 50px;
                border: 6px solid #3498db;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-bottom: 10px;
            }
            @keyframes spin {
                0% {transform: rotate(0deg);}
                100% {transform: rotate(360deg);}
            }
        </style>
    </head>
    <body>
        <div id="loading-screen">
            <div class="loader"></div>
            <p>Carregant models, si us plau, espera...</p>
        </div>
        <script>
            let faceapi;
            let detections = [];
            let video;
            let modelsMostrats = false;
            const miniWidth = 120;
            const miniHeight = 120;
            function setup() {
                createCanvas(windowWidth, windowHeight);
                video = createCapture(VIDEO);
                video.size(480, 480);
                video.hide();
                const faceOptions = {
                    withLandmarks: true,
                    withExpressions: true,
                    withDescriptors: false,
                    minConfidence: 0.5
                };
                faceapi = ml5.faceApi(video, faceOptions, faceReady);
                function faceReady() {
                    faceapi.detect(gotFaces);
                }
            }
        </script>
    </body>
</html>